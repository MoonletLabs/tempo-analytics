services:
  tempo-analytics:
    build:
      context: .
    container_name: tempo-analytics
    environment:
      PORT: "8790"
      NODE_ENV: "production"
      TEMPO_RPC_URL: "https://rpc.moderato.tempo.xyz"
      TEMPO_TOKENLIST_URL: "https://tokenlist.tempo.xyz/list/42431"
      TEMPO_MAX_SCAN_BLOCKS: "200000"
    restart: unless-stopped

  nginx:
    image: nginx:1.27-alpine
    container_name: tempo-analytics-nginx
    depends_on:
      - tempo-analytics
    ports:
      - "80:80"
      - "8080:80"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
    restart: unless-stopped
